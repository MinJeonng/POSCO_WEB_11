<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>
            /*
            // 이전시간에 했던 callback hell의 실습문제를 promise로 변경
            // 1번째 방법
            function red() {
                return new Promise((resolve) => {
                    setTimeout(function () {
                        resolve((document.body.style.backgroundColor = 'red'));
                    }, 1000);
                });
            }
            function orange() {
                return new Promise((resolve) => {
                    setTimeout(function () {
                        resolve((document.body.style.backgroundColor = 'orange'));
                    }, 1000);
                });
            }
            function yellow() {
                return new Promise((resolve) => {
                    setTimeout(function () {
                        resolve((document.body.style.backgroundColor = 'yellow'));
                    }, 1000);
                });
            }
            function green() {
                return new Promise((resolve) => {
                    setTimeout(function () {
                        resolve((document.body.style.backgroundColor = 'green'));
                    }, 1000);
                });
            }
            function blue() {
                return new Promise((resolve) => {
                    setTimeout(function () {
                        resolve((document.body.style.backgroundColor = 'blue'));
                    }, 1000);
                });
            }
            function navy() {
                return new Promise((resolve) => {
                    setTimeout(function () {
                        resolve((document.body.style.backgroundColor = 'navy'));
                    }, 1000);
                });
            }
            function purple() {
                return new Promise((resolve) => {
                    setTimeout(function () {
                        resolve((document.body.style.backgroundColor = 'purple'));
                    }, 1000);
                });
            }
            async function changeBgcolor() {
                await red();
                await orange();
                await yellow();
                await green();
                await blue();
                await navy();
                await purple();
            }
            changeBgcolor();
*/

            // 2번째 방법, 함수는 코드를 생략하기 위해서! 이 방법처럼 해야함
            function changeBgcolor(color, delayTime) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve((document.body.style.backgroundColor = color));
                    }, delayTime);
                });
            }
            //delayTime도 각자 다르게 줄 수 있음
            async function exec() {
                await changeBgcolor('red', 1000);
                await changeBgcolor('orange', 3000);
                await changeBgcolor('yellow', 2000);
                await changeBgcolor('green', 2000);
                await changeBgcolor('blue', 1000);
                await changeBgcolor('navy', 1000);
                await changeBgcolor('purple', 1000);
            }
            exec();
        </script>
    </body>
</html>
